montageDefine("291d12f","ui/user.reel/user",{dependencies:["core/contextualizable-component"],factory:function(e,t){var i=e("core/contextualizable-component").ContextualizableComponent;t.User=i.specialize({constructor:{value:function(e){console.log("Creating user ",e),this.super(),this.id||(this.id=Date.now()),this.username||(window[this.jsonType+"Count"]||(window[this.jsonType+"Count"]=0),window[this.jsonType+"Count"]++,this.username=this.jsonType+window[this.jsonType+"Count"])}},jsonType:{value:"user"},id:{value:null},username:{value:null},gravatar:{value:null},gravatarUrl:{get:function(){return this.gravatar?"https://secure.gravatar.com/avatar/324567576432376453214532?d=identicon":"gravatar.png"},set:function(){}},email:{value:null},firstname:{value:null},lastname:{value:null},_name:{value:null},name:{get:function(){var e=(this.firstname+" "+this.lastname).replace(/null/g,"").trim();return this._name||e||this.username||this.id},set:function(e){if(this._name=e,!this.firstname||!this.lastname){var t=e.split(" ");if(t.length>2)return this.lastname=t.pop(),this.firstname=t.shift(),this.middlename=t.join(" "),void 0;if(2===t.length)return this.firstname=t[0],this.lastname=t[1],void 0;this.firstname=e,this.lastname=""}}}})}});