var ContextualizableComponent=require("core/contextualizable-component").ContextualizableComponent,AbstractStimulus=require("core/abstract-stimulus").AbstractStimulus;exports.FourImageStimulus=AbstractStimulus.specialize({constructor:{value:function(){this.super(),this.confirmResponseChoiceMessage="Are you sure?",this.primeImage="",this.visualChoiceA="",this.visualChoiceB="",this.visualChoiceC="",this.visualChoiceD="",this.audioFile=""}},assetsPath:{value:null},load:{value:function(e){var t=this.imageAssetsPath||"missingpath";t+="/";var i=this.audioAssetsPath||"missingpath";i+="/";var n=e.distractorImages.join(":::").split(":::");n.push(e.targetImage);for(var o=0;n.length>o;o++){var s=n[o],a=s.split("_")[0]%4;switch(a){case 1:e.visualChoiceA=t+s;break;case 2:e.visualChoiceB=t+s;break;case 3:e.visualChoiceC=t+s;break;case 0:e.visualChoiceD=t+s;break;default:}}e.audioFile=i+e.audioFile,e.primeImage=t+e.primeImage,e.audioFileIntroduceTargets=i+e.audioFileIntroduceTargets,this.showVisualTargets=!1,this.templateObjects.visualPrime.element.hidden=!0,this.templateObjects.visualPrime.element.style.width="15%",this.templateObjects.showVisualTargetCondition.element.hidden=!0;var r=e.cueToShowPrime,l=this;setTimeout(function(){l.animateVisualPrime()},r);var u=e.cueToShowTargets,l=this;setTimeout(function(){l.animateVisualTargets()},u),this.super(e)}},animateVisualPrime:{value:function(){console.log("animating visual prime"),this.templateObjects.visualPrime.element.style.width="50%",this.templateObjects.visualPrime.element.style["-webkit-animation"]="",this.templateObjects.visualPrime.element.hidden=!1}},animateVisualTargets:{value:function(){console.log("animating visual targets"),this.showVisualTargets=!0,this.templateObjects.visualPrime.element.style["-webkit-animation"]="Four-image-stimulus-move-prime ease-in-out 2s",this.templateObjects.visualPrime.element.style.width="15%",this.templateObjects.showVisualTargetCondition.element.hidden=!1,this.introduceTargetStimuli()}},introduceTargetStimuli:{value:function(){this.audioElement.src=this.audioFileIntroduceTargets,this.audioElement.play(),this.templateObjects.visualChoiceA.element.style.opacity=".3",this.templateObjects.visualChoiceB.element.style.opacity=".3",this.templateObjects.visualChoiceC.element.style.opacity=".3",this.templateObjects.visualChoiceD.element.style.opacity=".3";var e=this,t=function(i){var n=e.audioFileIntroduceTargetsTiming[i].delay;window.setTimeout(function(){if("done"===i)e.startWaitingForUserToRespond=Date.now(),e.templateObjects.visualChoiceA.element.style.opacity=".8",e.templateObjects.visualChoiceB.element.style.opacity=".8",e.templateObjects.visualChoiceC.element.style.opacity=".8",e.templateObjects.visualChoiceD.element.style.opacity=".8",e.templateObjects.visualChoiceA.element.style["-webkit-animation"]="",e.templateObjects.visualChoiceB.element.style["-webkit-animation"]="",e.templateObjects.visualChoiceC.element.style["-webkit-animation"]="",e.templateObjects.visualChoiceD.element.style["-webkit-animation"]="";else{var o=n/1e3||1;e.templateObjects[i].element.style["-webkit-animation"]="Introduce-target-image "+o+"s",t(e.audioFileIntroduceTargetsTiming[i].nextIntroduction)}},n)};t(this.audioFileIntroduceFirstTarget)}}});