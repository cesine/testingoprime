function compute(e,t,n){n.target=e,n.targetPath=t;var i=n.source=n.source||e,r=n.args,a=n.compute,o=n.parameters=n.parameters||i,s=n.document,l=n.components,u=n.trace,c=n.sourceScope=new Scope(i);c.parameters=o,c.document=s,c.components=l;var h=n.targetScope=new Scope(e);h.parameters=o,h.document=s,h.components=l;var d=r.map(function(e){return parse(e)}).map(function(e){if("rangeContent"===e.type){var t=compileObserver(e.args[0]);return Observers.makeRangeContentObserver(t)}if("mapContent"===e.type){var t=compileObserver(e.args[0]);return Observers.makeMapContentObserver(t)}return compileObserver(e)}),p=Observers.makeRangeContentObserver(Observers.makeObserversObserver(d)),m=Observers.makeComputerObserver(p,a,e),f=parse(t),v=compileBinder(f);return v(m,c,h,n,u?{sourcePath:r.join(", "),targetPath:t}:void 0)}var parse=require("./parse"),compileObserver=require("./compile-observer"),compileBinder=require("./compile-binder"),Observers=require("./observers"),Scope=require("./scope");module.exports=compute;